<!-- templates/index.html -->
{% extends "layout.html" %}
{% block content %}

<nav class="tabs">
  <button class="tab active" data-tab="simple">{{ t.sections.input_title }} — Simple</button>
  <button class="tab" data-tab="complete">{{ t.sections.input_title }} — Completa</button>
</nav>

<section id="tab-simple" class="tab-panel">
  <form id="formSimple" autocomplete="off">
    <div class="grid">
      <!-- Órbita / tránsito -->
      <label>
        orbital_period
        <input id="s_orbital_period" placeholder="días">
      </label>
      <label>
        transit_duration
        <input id="s_transit_duration" placeholder="horas">
      </label>
      <label>
        transit_depth
        <input id="s_transit_depth" placeholder="ppm">
      </label>

      <!-- Estrella -->
      <label>
        star_temp
        <input id="s_star_temp" placeholder="K">
      </label>
    </div>

    <div class="actions">
      <button type="submit" class="btn primary">
        {{ t.sections.prediction_title }}
        <span class="loader hidden"></span>
      </button>
      <button id="btnClearSimple" type="button" class="btn ghost">Limpiar</button>
    </div>
  </form>

  <div id="simpleResult" class="hidden"></div>
</section>

<section id="tab-complete" class="tab-panel hidden">
  <form id="formComplete" autocomplete="off">
    <h3>Órbita / Tránsito</h3>
    <div class="grid">
      <label>
        orbital_period
        <input id="c_orbital_period" placeholder="días">
      </label>
      <label>
        transit_epoch
        <input id="c_transit_epoch">
      </label>
      <label>
        transit_duration
        <input id="c_transit_duration" placeholder="horas">
      </label>
      <label>
        transit_depth
        <input id="c_transit_depth" placeholder="ppm">
      </label>
      <label>
        transit_snr
        <input id="c_transit_snr">
      </label>
      <label>
        impact_param
        <input id="c_impact_param">
      </label>
      <label>
        eccentricity
        <input id="c_eccentricity">
      </label>
      <label>
        semi_major_axis
        <input id="c_semi_major_axis" placeholder="AU">
      </label>
    </div>

    <h3>Planeta</h3>
    <div class="grid">
      <label>
        planet_radius
        <input id="c_planet_radius" placeholder="R⊕">
      </label>
      <label>
        equilibrium_temp
        <input id="c_equilibrium_temp" placeholder="K">
      </label>
      <label>
        insolation_flux
        <input id="c_insolation_flux" placeholder="S⊕">
      </label>
    </div>

    <h3>Estrella</h3>
    <div class="grid">
      <label>
        star_radius
        <input id="c_star_radius" placeholder="R☉">
      </label>
      <label>
        star_mass
        <input id="c_star_mass" placeholder="M☉">
      </label>
      <label>
        star_temp
        <input id="c_star_temp" placeholder="K">
      </label>
      <label>
        star_logg
        <input id="c_star_logg">
      </label>
      <label>
        star_metallicity
        <input id="c_star_metallicity">
      </label>
      <label>
        star_density
        <input id="c_star_density">
      </label>
    </div>

    <div class="actions">
      <button type="submit" class="btn primary">
        {{ t.sections.prediction_title }}
        <span class="loader hidden"></span>
      </button>
      <button id="btnClearComplete" type="button" class="btn ghost">Limpiar</button>
    </div>
  </form>

  <div id="completeResult" class="hidden"></div>
</section>

<!-- Carga el JS con versión nueva -->
<script src="{{ url_for('static', filename='js/app.js') }}?v=6" defer></script>

<style>
  .hidden{display:none}
  .tabs{display:flex;gap:.5rem;margin:.5rem 0}
  .tab{padding:.4rem .8rem;border:1px solid #ddd;background:#fafafa;cursor:pointer;border-radius:.5rem}
  .tab.active{background:#fff;font-weight:600;border-color:#bbb}
  .tab-panel{margin-top:1rem}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:.75rem}
  label{display:flex;flex-direction:column;font-size:.9rem;gap:.25rem}
  input{padding:.5rem .6rem;border:1px solid #ddd;border-radius:.5rem}
  .actions{display:flex;gap:.5rem;margin-top:1rem}
  .btn{padding:.5rem .9rem;border-radius:.6rem;border:1px solid #ddd;background:#f5f5f5;cursor:pointer}
  .btn.primary{background:#2d6cdf;color:#fff;border-color:#2d6cdf}
  .btn.ghost{background:#fff}
  .loader{margin-left:.5rem;inline-size:1rem;block-size:1rem;border:.18rem solid #fff;border-top-color:transparent;border-radius:50%;display:inline-block;animation:spin .9s linear infinite;vertical-align:-2px}
  .loader.hidden{display:none}
  @keyframes spin{to{transform:rotate(360deg)}}
  pre.ok{background:#eefaf0;border:1px solid #bfe8c8;padding:.75rem;border-radius:.5rem;overflow:auto}
  pre.error{background:#fff2f2;border:1px solid #ffc7c7;padding:.75rem;border-radius:.5rem;overflow:auto}
  .alert.error{background:#fff2f2;border:1px solid #ffc7c7;padding:.6rem .8rem;border-radius:.5rem}
</style>

{% endblock %}
